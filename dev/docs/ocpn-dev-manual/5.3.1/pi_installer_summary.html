<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pl Manager Summary :: OpenCPN Developers Manual</title>
    <link rel="canonical" href="https://github.com/Rasbats/ocpn-dev-manual/ocpn-dev-manual/5.3.1/pi_installer_summary.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://github.com/Rasbats/ocpn-dev-manual"
      >
        OpenCPN Developers Manual
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.opencpn.org">OpenCPN.org</a>
            <a class="navbar-item"
               href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:opencpn_user_manual"
            >
               User Manual
               </a>
            <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
               Github Site
               </a>
            <a class="navbar-item" href="https://opencpn.org/flyspray/">
               Bugtracker
               </a>
            <a class="navbar-item"
                href="https://rasbats.github.io/opencpn-plugins-manual/">
                    Plugin Manual (pre-alpha)
               </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="5.3.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-AboutThisManual.html">About this Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Background.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Terminology.html">Terminology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Opencpn development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Compiling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-cmake.html">CMake</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-linux.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-windows.html">Windows</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-mac-osx.html">MacOS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-cross-compile-for-windows-under-linux.html">Mingw windows build on Linux</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-code-formatting.html">Code Formatting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-user-interface-styling.html">User Interface Styling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Manager Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-plugin-guidelines.html">Plugin Guidelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-plugin-documentation.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-plugin-dependencies.html">Dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-api-versions.html">Plugin API and ABI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Manager Workflow</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-deployment.html">Deployment overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-workflow.html">Workflow Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-services.html">Prerequisite Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-other.html">Cloudsmith Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-workflow.html">Workflow overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-tp-template.html">Testplugin Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-system-structure.html">System Structure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-dev-setup.html">Developer Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-config-template.html">Configure Template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Build Locally</span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-adapt-plugin.html">Adapt Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-deploy.html">Deploy Details</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-update-library.html">Update the Library</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-language-nuance.html">Language Nuances</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi-messaging.html">Odapi Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi.html">Odapi for oDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-ocpn_draw_odapi.html">Ocpn_Draw Odapi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#AlternativeWorkflow:ROOT:index.adoc">Shipdriver Templates -Alternative Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#Managed_Plugins:ROOT:nav.adoc">Shipdriver Templates -Managed Plugins Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#plugin-installer:ROOT:index.adoc">Plugin Manager Installer Documentation</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#opencpn-plugins-manual:ROOT:index.adoc">OpenCPN Plugin Manuals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-legacy-plugins.html">Legacy Plugin Packaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-manual-maint.html">Maintenance of this Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-i18n.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-prebuilt-build-files.html">Prebuilt Build Files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-online-tools.html">Online Nmea Tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The Attic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Redundant</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="demo_plugin.html">Demonstration Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="updating_the_user_manual.html">Updating the User Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bug_and_feature_tracking.html">Bugs and feature tracking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshooting_plugins.html">Troubleshooting Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin_submissions.html">Plugin Submissions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="standalone_plugin_compilation.html">Plugin Compilation Win</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_external_plugins_and_building_install_packages.html">Compile Plugins and build Install Packages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_plugins_to_debug.html">Compile Plugins for Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="developer_guide.html">Developer Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="languages.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#compiling_mac_osx.adoc">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_linux_old.html">Compiling on Linux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building_and_installing_on_cubieboard_2_with_hw_acceleration.html">Cubieboard 2 with HW acceleration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">armhf linux - Armbian - Orange Pi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building_on_motorola_xoom.html">Building on Motorola Xoom</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compiling_on_slackware.html">Compile on Slackware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="vs2015_workflow.html">Compile 2015 VS Community Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_windows_2013_vs_community.html">Compile 2013 VS Community Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_windows_2013_vs_community_ov4.2-4.8.8.html">Compile 2013 VS Community Workflow ov4.2-4.8.8</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="standalone_plugin_compilation.html">Plugin Compilation Win</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="ci-push-linux-build-to-launchpad.html">CI: Push Linux Build to Launchpad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="codacy.html">Codacy:Automate code quality</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="testquality.html">TestQuality -Test Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nsis_installation_directory.html">NSIS Installation Directory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nsis_table.html">NSIS Table</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">User Manual (UM)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="developer_manual.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="community_old.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pi_installer-ui.html">PI Manager UI Discussion</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Old Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Compiling on Windows</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Internationalization- Languages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging.html">Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prerequisites.html">Prerequisites -Just found this</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Developer Plugins</span>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin API</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ocpn_draw_odapi.adoc">OCPN Draw ODAPI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="beta_plugins.html">Beta Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="coding_solutions.html">Coding Solutions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="fork_build_windows.html">Fork and Build (Windows)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="oplaydo1.html">oplaydo1 (Windows)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="fork_and_build_linux.html">Fork and Build (Linux)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="oplaydo1_linux.html">oplaydo1 (Linux)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pi_installer_dev_procedure.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ci-push-build-to-git.html">CI: Push build to Git Release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ci_travis_encryption_windows.html">CI: Travis Encryption for Windows Dev</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="advanceddebugtips.html">CI Advanced Debug Tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Plugin Installer Manual</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#plugin-installer:ROOT:Home.adoc">Home-Plugin-Installer</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">5.3.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.3.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li>User Manual (UM)</li>
    <li><a href="pi_installer_summary.html">PI Manager Summary</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Pl Manager Summary</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/leamas/OpenCPN/wiki">PIugin Manager Github Wiki</a>
Extensive documentation</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_goals"><a class="anchor" href="#_design_goals"></a>Design Goals</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make plugins easily discoverable for users.</p>
</li>
<li>
<p>Support simple, one-button click plugin installation</p>
</li>
<li>
<p>Not use elevated privileges (partly implied by above)</p>
</li>
<li>
<p>Obsolete the need to package plugins.</p>
</li>
<li>
<p>Be compatible with existing plugin installations</p>
</li>
<li>
<p>Improve build and deploy workflow for plugins.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_goals_additional_later"><a class="anchor" href="#_design_goals_additional_later"></a>Design Goals - Additional &amp; Later</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Simple, one-button click install for user.</p>
</li>
<li>
<p>Simple, one-button click uninstall for user.</p>
</li>
<li>
<p>Common UX on all platforms.</p>
</li>
<li>
<p>All devs: Simple, well-defined model of what a plugin is
installation-wise.</p>
</li>
<li>
<p>Ocpn devs: Platform-independent code (mostly).</p>
</li>
<li>
<p>Plugins devs: Make it simpler to provide plugins.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alecs_discussion"><a class="anchor" href="#_alecs_discussion"></a>Alec&#8217;s Discussion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The simple, platform-independent one-click user actions are simply not
feasible using native packages. Reasons include that uninstall just
isn&#8217;t possible, technical problems when communicating with privileged
code, different or missing GUIs and fragmented Linux solutions.</p>
</div>
<div class="paragraph">
<p>For plugin developers the new model basically means that they need to
support make install instead of providing packages. This is much easier,
and cmake gives tons of support.</p>
</div>
<div class="paragraph">
<p>For opencpn we get a common, unified platform with not that much
platform-dependent code (estimated &lt; 300 lines).</p>
</div>
<div class="paragraph">
<p>Both ocpn and plugin devs benefits from the more restricted model of
what a plugin actually is installation-wise. When using platform
packages a plugin cold basically install all sorts of files in all sorts
of places, run scripts on install/uninstall, pull in platform
dependencies etc. Even if most (almost all?) plugins only installs a
library and some data files, any design using platform packages will be
hampered by what a platform package might do.</p>
</div>
<div class="paragraph">
<p>All this boils down to a solution similar to the browsers, IDE:s,
multimedia tools etc., out there: use an application-specific format for
the plugin (.tar.gz in this case).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_daves_summary"><a class="anchor" href="#_daves_summary"></a>Dave&#8217;s Summary</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_operation"><a class="anchor" href="#_operation"></a>Operation:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>There is a metadata file called "ocpn-plugins.xml" which contains a
description, tarball URLs, and potentially other stuff for a set of
plugins.</p>
</li>
<li>
<p>The ocpn-plugins.xml file is created by merging the files in
plugins/metadata. Each of these files represents a plugin build for a
given platform.</p>
</li>
<li>
<p>When placed in the OCPN private data directory, OCPN will (at startup)
notice the metadata, and offer a GUI interface to "manage" the
so-described plugins.</p>
</li>
<li>
<p>Each plugin metadata section in ocpn-plugins.xml may (will?) be
platform specific.</p>
</li>
<li>
<p>Legacy (user-managed) plugin installers (by .exe, .dmg, or PPA) can
coexist, but are in no way "managed" by the new GUI.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_control_issues"><a class="anchor" href="#_control_issues"></a>Control issues:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I assume OCPN can download at will a new updated copy of
ocpn-plugins.xml, on user request.</p>
</li>
<li>
<p>Today, the act of "publishing" a new approved plugin for OCPN consists
of creating an entry on the opencpn.org website describing the plugin,
and providing links to (soon to be called) legacy installers for user
integration and management.</p>
</li>
<li>
<p>In the new scheme, "publishing" a plugin includes all of (6) above, as
well as creating and promulgating a new release of ocpn-plugins.xml,
properly versioned in some unclear way.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_hosting_questions"><a class="anchor" href="#_hosting_questions"></a>Hosting questions:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We collectively wonder where to host the ocpn-plugins.xml files, with
some kind of version control, access privileges, etc. NOTE: The
repository for ocpn-plugins.xml is <a href="https://github.com/OpenCPN/plugins" class="bare">https://github.com/OpenCPN/plugins</a></p>
</li>
<li>
<p>What are the policies as regards this critical file? Who can update
the official copy, etc? Dave and several other developers have admin
access to this repository.</p>
</li>
<li>
<p>We also wonder where, or if, to assertively host the tarballs, and
other blobs required for installation, for each plugin.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_ideas"><a class="anchor" href="#_ideas"></a>Ideas:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a new project on github called OpenCPN/plugins, with the same
maintainers as OpenCPN/OpenCPN.</p>
</li>
<li>
<p>Move the parts related to building ocpn-plugins.xml to this new
project. This includes plugins/metadata, plugins/icons, parts of
tools/and parts of CMakeLists.txt which creates ocpn-plugins.xml</p>
</li>
<li>
<p>The new project basically "exports" ocpn-plugins.xml. It has an
independent versioning scheme, perhaps as simple as a single number.</p>
</li>
<li>
<p>Each release of OpenCPN is distributed with a fixed version of
ocpn-plugins.xml.</p>
</li>
<li>
<p>The code in OpenCPN <a href="https://github.com/OpenCPN/OpenCPN/pull/1457">PR
#1457</a> is updated so it can update ocpn-plugins.xml by downloading it
from from github on user request.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alecs_initial_summary"><a class="anchor" href="#_alecs_initial_summary"></a>Alec&#8217;s Initial Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is about the new Plugin Installer as proposed in
<a href="https://github.com/OpenCPN/OpenCPN/pull/1457">[1</a>]</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For each plugin, the installer needs an XML metadata file and a
tarball containing what to install. Together with existing packages
(.exe, .img, .deb etc.) this makes three files per plugin.</p>
</li>
<li>
<p>I have forked four example plugins to make them build the necessary
stuff for the installer: oesenc
<a href="https://github.com/leamas/oesenc_pi/">[4</a>], squiddio
<a href="https://github.com/mauroc/squiddio_pi/issues/71">[3</a>], radar
<a href="https://github.com/opencpn-radar-pi/radar_pi/pull/120">[2</a>] and bsb4
<a href="https://github.com/leamas/bsb4_pi/">[5</a>].</p>
</li>
<li>
<p>I have made two pull requests based on my forks: squiddio (merged) and
radar_pi <a href="https://github.com/opencpn-radar-pi/radar_pi/pull/120">[2</a>].</p>
</li>
<li>
<p>The question now discussed is basically how to deploy the stuff built
in various ci builders. This is raised as an issue in
<a href="https://github.com/mauroc/squiddio_pi/issues/71">[3</a>].</p>
</li>
<li>
<p>If this should be handled on a global level (I actually don&#8217;t see the
need at this point) the discussion must IMHO be moved to the overall
opencpn project.'</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cheers! Alec</p>
</div>
<div class="paragraph">
<p>[1] PR #1457
<a href="https://github.com/OpenCPN/OpenCPN/pull/1457">https:<em>github.com/OpenCPN/OpenCPN/pull/1457</a>]<br>
[2] Radar_pi
[[https:</em>github.com/opencpn-radar-pi/radar_pi/pull/120|https:<em>github.com/opencpn-radar-pi/radar_pi/pull/120]]<br>
[3] Squiddio_pi
[[https:</em>github.com/mauroc/squiddio_pi/issues/71|https:<em>github.com/mauroc/squiddio_pi/issues/71]]<br>
[4] Oesenc_pi
[[https:</em>github.com/leamas/oesenc_pi/|https:<em>github.com/leamas/oesenc_pi/]]<br>
[5] Bsb4_pi
[[https:</em>github.com/leamas/bsb4_pi/|https://github.com/leamas/bsb4_pi/]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_questions"><a class="anchor" href="#_questions"></a>Questions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_explain_the_advantages_of_cloudsmith_ci"><a class="anchor" href="#_explain_the_advantages_of_cloudsmith_ci"></a>Explain the advantages of cloudsmith ci?</h3>
<div class="paragraph">
<p>The basic counter-question is: compared to bintray, github or what? I
can see some general advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It actually seems mature.</p>
</li>
<li>
<p>We can create multiple repos for installer stuff (metadata<br>
tarballs), test builds and legacy manual installers. Seems hard on
github.</p>
</li>
<li>
<p>With a separate repo for manual packages it becomes more user-friendly
(4 files /release instead of 12 for a typical plugin).</p>
</li>
<li>
<p>Cloudsmith has a rich administrative interface.</p>
<div class="literalblock">
<div class="content">
<pre> For example, the retention policy could be set per repo to keep all, keep the latest etc.
** This is important to keep the list of test builds manageable.
** Thanks to a clever scheme there is no need for encrypted deployment keys. Makes life easier for plugin devs.</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Still, there is no project decision to use cloudsmith, it&#8217;s a per-plugin
decision to make or not. The only condition is that the plugin artifacts
are downloadable from an url, on cloudsmith or elsewehere.</p>
</div>
<div class="paragraph">
<p>Pros Cloudsmith</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mature</p>
</li>
<li>
<p>Free to opensource</p>
</li>
<li>
<p>No need for encrypted deployment keys, which makes life easier for
plugin devs.</p>
</li>
<li>
<p>Integrates well with github and circleci.</p>
</li>
<li>
<p>Rich administrative interface.</p>
<div class="ulist">
<ul>
<li>
<p>Retention policy could be set per repo to keep all, keep the latest etc.</p>
</li>
<li>
<p>Important to keep the list of test builds manageable.</p>
</li>
<li>
<p>Can make an organization account and can manage &amp; share permissions (and repositories) for that account.</p>
<div class="ulist">
<ul>
<li>
<p>Opencpn organization on github which creates the Cloudsmith Opencpn Organization?</p>
</li>
<li>
<p>Organization account url [[<a href="https://cloudsmith.io/" class="bare">https://cloudsmith.io/</a><sub>opencpn/repos/plugins/packages/|https://cloudsmith.io/</sub>opencpn/repos/plugins/packages/]]</p>
</li>
<li>
<p>Good for users, easier publishing to Opencpn.org Downloads page links.</p>
</li>
<li>
<p>Since free/open-source, no billing is required.</p>
</li>
<li>
<p>Decide who "owns" the opencpn org on Cloudsmith.</p>
</li>
<li>
<p>Owners can then invite the rest of the plugin developers to the org on Cloudsmith</p>
<div class="ulist">
<ul>
<li>
<p>give them specific read (or write) access to specific repositories.</p>
</li>
<li>
<p>Maybe each plugin has its own repository, or you create a centralized repository for all of the plugins.</p>
</li>
<li>
<p>That would be up to the opencpn developers.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note: Alec&#8217;s PI Installer does not require centralized repository, flexible source.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Allows creation of multiple repositories to host the stable, unstable, manual versions of the binary and xml files.</p>
</li>
<li>
<p>With a separate repo for manual packages it becomes more user-friendly (4 files /release instead of 12 for a typical plugin).</p>
</li>
<li>
<p>Good search features</p>
</li>
<li>
<p>GitHub Actions (new service available to opensource) should be able to export to cloudsmith</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons Cloudsmith</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Not a fully integrated github service.</p>
</li>
<li>
<p>Requires another setup and management.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pros GitHub</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Integrates fully with GitHub</p>
</li>
<li>
<p>Releases are linked back to Commit Hash</p>
</li>
<li>
<p>Release are serially presented, but searchable</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cons GitHub</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Release Tab Repository is serially presented.</p>
</li>
<li>
<p>Seems hard to create multiple repros on github.</p>
</li>
<li>
<p>Cannot create multiple repositories in a single account. (stable,
unstable, manual)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_we_collectively_wonder_where_to_host_the_ocpn_plugins_xml_files"><a class="anchor" href="#_we_collectively_wonder_where_to_host_the_ocpn_plugins_xml_files"></a>We collectively wonder where to host the ocpn-plugins.xml files</h3>
<div class="paragraph">
<p>With some kind of version control, access privileges, etc. What are the
policies as regards this critical file? Who can update the official
copy, etc? Some ideas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start a new project on github called <strong>OpenCPN/plugins</strong>, with the same
maintainers as<strong> OpenCPN/OpenCPN</strong>.</p>
</li>
<li>
<p>Move the parts related to building <strong>ocpn-plugins.xml</strong> to this new
project. This includes</p>
<div class="ulist">
<ul>
<li>
<p>plugins/metadata</p>
</li>
<li>
<p>plugins/icons</p>
</li>
<li>
<p>parts of tools</p>
</li>
<li>
<p>parts of CMakeLists.txt which creates ocpn-plugins.xml</p>
</li>
</ul>
</div>
</li>
<li>
<p>The new project basically "exports" ocpn-plugins.xml. It has an independent versioning scheme, perhaps as simple as a single number.</p>
</li>
<li>
<p>Each release of OpenCPN is distributed with a fixed version of ocpn-plugins.xml.</p>
</li>
<li>
<p>The code in #1457 is updated so it can //update ocpn-plugins.xml//  by downloading it from from github //on user request//.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_why_is_circleci_appropriate_to_use"><a class="anchor" href="#_why_is_circleci_appropriate_to_use"></a>Why is CircleCI appropriate to use?</h3>
<div class="paragraph">
<p>1. The killer feature is the ability to log in to failed builds
when running into trouble.
x 2. Tokens and encryption is easier,
particularly for Win Dev (The simplified token/no encryption is actually
cloudsmith)
3. Circleci seems quite fast, although Travis is good too.
4. Circleci information menus are very good, example
<a href="https://circleci.com/gh/rgleason/squiddio_pi/140" class="bare">https://circleci.com/gh/rgleason/squiddio_pi/140</a></p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
