<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CI: Push Linux Build to Launchpad :: OpenCPN Developers Manual</title>
    <link rel="canonical" href="https://github.com/Rasbats/ocpn-dev-manual/ocpn-dev-manual/5.3.1/ci-push-linux-build-to-launchpad.html">
    <meta name="generator" content="Antora 2.3.4">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <div class="navbar">
    <div class="navbar-brand">
      <div class="ocpn-logo"> </div>
      <a class="navbar-title"
         href="https://github.com/Rasbats/ocpn-dev-manual"
      >
        OpenCPN Developers Manual
        </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
       <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://www.opencpn.org">OpenCPN.org</a>
            <a class="navbar-item"
               href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:opencpn_user_manual"
            >
               User Manual
               </a>
            <a class="navbar-item" href="https://github.com/opencpn/OpenCPN">
               Github Site
               </a>
            <a class="navbar-item" href="https://opencpn.org/flyspray/">
               Bugtracker
               </a>
            <a class="navbar-item"
                href="https://rasbats.github.io/opencpn-plugins-manual/">
                    Plugin Manual (pre-alpha)
               </a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ocpn-dev-manual" data-version="5.3.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">OpenCPN Developer Manual</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-AboutThisManual.html">About this Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Background.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Community.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro-Terminology.html">Terminology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Opencpn development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Compiling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-cmake.html">CMake</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-linux.html">Linux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-windows.html">Windows</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-mac-osx.html">MacOS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="od-compile-cross-compile-for-windows-under-linux.html">Mingw windows build on Linux</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-code-formatting.html">Code Formatting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-user-interface-styling.html">User Interface Styling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="od-troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Manager Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-plugin-guidelines.html">Plugin Guidelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-plugin-documentation.html">Documentation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-plugin-dependencies.html">Dependencies</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-plugin-api-versions.html">Plugin API and ABI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin Manager Workflow</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-deployment.html">Deployment overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-workflow.html">Workflow Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-services.html">Prerequisite Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-prereq-other.html">Cloudsmith Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pm-overview-workflow.html">Workflow overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="pm-tp-template.html">Testplugin Template</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-system-structure.html">System Structure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-dev-setup.html">Developer Setup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-config-template.html">Configure Template</a>
  </li>
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Build Locally</span>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-adapt-plugin.html">Adapt Plugin</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-deploy.html">Deploy Details</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-update-library.html">Update the Library</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-language-nuance.html">Language Nuances</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi-messaging.html">Odapi Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-odapi.html">Odapi for oDraw</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="pm-tp-ocpn_draw_odapi.html">Ocpn_Draw Odapi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#AlternativeWorkflow:ROOT:index.adoc">Shipdriver Templates -Alternative Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#Managed_Plugins:ROOT:nav.adoc">Shipdriver Templates -Managed Plugins Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#plugin-installer:ROOT:index.adoc">Plugin Manager Installer Documentation</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#opencpn-plugins-manual:ROOT:index.adoc">OpenCPN Plugin Manuals</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-legacy-plugins.html">Legacy Plugin Packaging</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-manual-maint.html">Maintenance of this Manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="dm-i18n.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-prebuilt-build-files.html">Prebuilt Build Files</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="res-online-tools.html">Online Nmea Tools</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">The Attic</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Redundant</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="demo_plugin.html">Demonstration Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="updating_the_user_manual.html">Updating the User Manual</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="bug_and_feature_tracking.html">Bugs and feature tracking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="troubleshooting_plugins.html">Troubleshooting Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin_submissions.html">Plugin Submissions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="standalone_plugin_compilation.html">Plugin Compilation Win</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_external_plugins_and_building_install_packages.html">Compile Plugins and build Install Packages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compiling_plugins_to_debug.html">Compile Plugins for Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="developer_guide.html">Developer Guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Reference</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="languages.html">Internationalization</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="prerequisites.html">Prerequisites</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#compiling_mac_osx.adoc">Compiling on macOS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_linux_old.html">Compiling on Linux</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rpi2.html">Compile on Raspberry PI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building_and_installing_on_cubieboard_2_with_hw_acceleration.html">Cubieboard 2 with HW acceleration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building-on-armhf-linux-armbian-orange-pi.html">armhf linux - Armbian - Orange Pi</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="building_on_motorola_xoom.html">Building on Motorola Xoom</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compiling_on_slackware.html">Compile on Slackware</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="vs2015_workflow.html">Compile 2015 VS Community Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_windows_2013_vs_community.html">Compile 2013 VS Community Workflow</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="compile_windows_2013_vs_community_ov4.2-4.8.8.html">Compile 2013 VS Community Workflow ov4.2-4.8.8</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="standalone_plugin_compilation.html">Plugin Compilation Win</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="ci-push-linux-build-to-launchpad.html">CI: Push Linux Build to Launchpad</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="codacy.html">Codacy:Automate code quality</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="testquality.html">TestQuality -Test Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nsis_installation_directory.html">NSIS Installation Directory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nsis_table.html">NSIS Table</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">User Manual (UM)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="developer_manual.html">Background</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="community_old.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pi_installer-ui.html">PI Manager UI Discussion</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pi_installer_summary.html">PI Manager Summary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Old Manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Compiling on Windows</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="languages.html">Internationalization- Languages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="messaging.html">Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prerequisites.html">Prerequisites -Just found this</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Developer Plugins</span>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugin API</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="#ocpn_draw_odapi.adoc">OCPN Draw ODAPI</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="beta_plugins.html">Beta Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learning</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="coding_solutions.html">Coding Solutions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="fork_build_windows.html">Fork and Build (Windows)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="oplaydo1.html">oplaydo1 (Windows)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="fork_and_build_linux.html">Fork and Build (Linux)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="oplaydo1_linux.html">oplaydo1 (Linux)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pi_installer_dev_procedure.html">PI Manager Dev Procedure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ci-push-build-to-git.html">CI: Push build to Git Release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ci_travis_encryption_windows.html">CI: Travis Encryption for Windows Dev</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="advanceddebugtips.html">CI Advanced Debug Tips</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Plugin Installer Manual</span>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#plugin-installer:ROOT:Home.adoc">Home-Plugin-Installer</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OpenCPN Developer Manual</span>
    <span class="version">5.3.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">OpenCPN Developer Manual</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">5.3.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">OpenCPN Developer Manual</a></li>
    <li>Developer Manual</li>
    <li>The Attic</li>
    <li>Reference</li>
    <li><a href="ci-push-linux-build-to-launchpad.html">CI: Push Linux Build to Launchpad</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">CI: Push Linux Build to Launchpad</h1>
<div class="sect1">
<h2 id="_initiate_the_push_with_git_push_origin_tag"><a class="anchor" href="#_initiate_the_push_with_git_push_origin_tag"></a>Initiate the push with 'git push origin [tag]'</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In .travis it is possible to initiate the push of a Linux build to your
Launchpad repository. These instructions assume that you have a travis
account and know your way around the services and basic process. Your
travis account is used to confirm 'successful' builds of linux and osx,
and to create Linux packages to deploy to your Launchpad.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_push_a_travis_built_file_to_your_launchpad"><a class="anchor" href="#_how_to_push_a_travis_built_file_to_your_launchpad"></a>How to push a .Travis 'built' file to your Launchpad</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For travis refer to
<a href="http://www.cruisersforum.com/forums/f134/tactics-plugin-166909-2.html#post2913910">Petri&#8217;s
post #637</a></p>
</div>
<div class="sect2">
<h3 id="_a_configure_the_travis_file_for_security_and_permissions"><a class="anchor" href="#_a_configure_the_travis_file_for_security_and_permissions"></a>A. Configure the Travis file for security and permissions</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You can use this OCPN_Draw_pi
<a href="https://github.com/jongough/ocpn_draw_pi/blob/master/.travis.yml">.travis</a>
file as an example. The important part is the "- provider: launchpad"
section.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_b_launchpad_provider_at_bottom_of_travis_yml_file"><a class="anchor" href="#_b_launchpad_provider_at_bottom_of_travis_yml_file"></a>B. Launchpad provider at bottom of travis.yml file</h3>
<div class="paragraph">
<p>Example Bottom section of the travis.yml file. Note: indentation is
important in yml files, child parts MUST be indeted below the owner.
This is shown below by "oauth_token:" being the owner and "secure:"
being the child, notice that "secure:" is indented.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>deploy:
  - provider: launchpad
    slug: "Your repository slug here"
    oauth_token:
      secure: "Your encrypted oauth_token here"
    oauth_token_secret:
      secure: "Your encrypted oauth_token_secret here"
    skip_cleanup: true
    on: # Set Deploy conditions
      # Deploy only when tag is not specified
      # tags: false
      # or this branch
      #branches:
      #   only:
      #     - master
      tags: true
      all_branches: true
      condition: "$TRAVIS_OS_NAME = linux"</pre>
</div>
</div>
<div class="paragraph">
<p>The "slug:" and "secure:" data items are in double quotes ("").</p>
</div>
<div class="paragraph">
<p>If you want another deploy section, like git, you will need to create a
new "- provider:" with the text "releases" following it. Both "-
provider:" labels need to have the same indentation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_c_install_travis_cli_to_encrypt_a_launchpad_secure_public_key"><a class="anchor" href="#_c_install_travis_cli_to_encrypt_a_launchpad_secure_public_key"></a>C. Install Travis CLI to encrypt a Launchpad secure public key</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You need a travis CLI (command line interface) to be able to encrypt
the Launchpad tokens. The encrypted strings are put in your personal
.travis.yml file.</p>
</li>
<li>
<p>Travis CLI installation instructions for Windows. When you are sure
that you have travis CLI up and working, you can start to create the
encrypted key. Without it, deployment to GitHub does not work.</p>
</li>
<li>
<p>Travis CLI installation instructions for Linux. Windows10 users can
create a
<a href="https://opencpn.org/wiki/dokuwiki/doku.php?id=opencpn:supplementary_software:run-ubuntu-in-win10">WSL-Windows
Subsystem for Linux (Ubuntu 18.04LTS) on Win10 Installation</a>, and then
from the linux command prompt
execute:`+sudo apt-get update --fix-missing
sudo apt-get install ruby
sudo apt-get install gem
ruby -v
gem install travis -v 1.8.10 --no-rdoc --no-ri
travis version
response: 1.8.10.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>225mb disk space used.
+`</p>
</div>
</div>
<div class="sect2">
<h3 id="_d_install_curl_to_allow_posting_information_to_launchpad"><a class="anchor" href="#_d_install_curl_to_allow_posting_information_to_launchpad"></a>D. Install "curl" to allow posting information to Launchpad</h3>
<div class="paragraph">
<p>Part of the process requires the http "Post" process to acquire security
tokens. The easy way to do this from a command prompt using the "curl"
program. * For Linux: Your package manager should be able to install
"curl" as it is a standard internet tool. * For Windows: goto this
website <a href="http://techieroop.com/how-to-install-curl-on-windows-10/" class="bare">http://techieroop.com/how-to-install-curl-on-windows-10/</a> and
select the correct version for your setup.</p>
</div>
</div>
<div class="sect2">
<h3 id="_e_create_a_launchpad_request_token"><a class="anchor" href="#_e_create_a_launchpad_request_token"></a>E. Create a Launchpad "request-token"</h3>
<div class="paragraph">
<p>Issue the following command from a command prompt.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl --dump-header - -H "Content-Type: application/x-www-form-urlencoded" -X POST --data 'oauth_consumer_key=Travis+Deploy&amp;oauth_signature_method=PLAINTEXT&amp;oauth_signature=%26' https://launchpad.net/+request-token</pre>
</div>
</div>
<div class="paragraph">
<p>You should receive a reply like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>HTTP/1.1 200 Ok
Date: Sat, 06 Jul 2019 01:57:06 GMT
Server: zope.server.http (HTTP)
X-Powered-By: Zope (www.zope.org), Python (www.python.org)
Content-Length: 132
X-Xss-Protection: 1; mode=block
X-Content-Type-Options: nosniff
Strict-Transport-Security: max-age=15552000
Vary: Cookie,Authorization,Accept-Encoding
X-Content-Type-Warning: guessed from content
X-Launchpad-Revision: 19007
X-Frame-Options: SAMEORIGIN
Content-Type: text/plain;charset=utf-8

oauth_token=XJwTXv9f8RRRT6TwCZ4x&amp;oauth_token_secret=lbrXHsQ0jVlJlqLpNX4mGWtNjcRp2rWzqhQx53KDhTM87m7f7MMGTNw7DsG3CcbhSbn3jwTCmMkFbFCG</pre>
</div>
</div>
<div class="paragraph">
<p>Save this information as you will need it in following steps.</p>
</div>
</div>
<div class="sect2">
<h3 id="_f_authenticate_the_user"><a class="anchor" href="#_f_authenticate_the_user"></a>F. Authenticate the User</h3>
<div class="paragraph">
<p>You will now need to logon to your Launchpad account. You need to have
been authenticated before you can issue the next command from your
browser. Open a new browser tab and enter the following in the "Address
line":</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://launchpad.net/+authorize-token?oauth_token={your oauth_token from step D:}</pre>
</div>
</div>
<div class="paragraph">
<p>Your version could look like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://launchpad.net/+authorize-token?oauth_token=XJwTXv9f8RRRT6TwCZ4x</pre>
</div>
</div>
<div class="paragraph">
<p>You will now be asked for the level of access to provide this token. The
easiest is to select "All", the last button on the page.</p>
</div>
</div>
<div class="sect2">
<h3 id="_g_get_new_secure_launchpad_token"><a class="anchor" href="#_g_get_new_secure_launchpad_token"></a>G. Get new secure Launchpad token</h3>
<div class="paragraph">
<p>In your command prompt window issue the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl --dump-header - -H "Content-Type: application/x-www-form-urlencoded" -X POST --data 'oauth_signature=%26{your oauth_token_secret}&amp;oauth_consumer_key=Travis+Deploy&amp;oauth_token={your oauth_token}&amp;oauth_signature_method=PLAINTEXT' https://launchpad.net/+access-token</pre>
</div>
</div>
<div class="paragraph">
<p>Your version would look like"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>curl --dump-header - -H "Content-Type: application/x-www-form-urlencoded" -X POST --data 'oauth_signature=%26lbrXHsQ0jVlJlqLpNX4mGWtNjcRp2rWzqhQx53KDhTM87m7f7MMGTNw7DsG3CcbhSbn3jwTCmMkFbFCG&amp;oauth_consumer_key=Travis+Deploy&amp;oauth_token=XJwTXv9f8RRRT6TwCZ4x&amp;oauth_signature_method=PLAINTEXT' https://launchpad.net/+access-token</pre>
</div>
</div>
<div class="paragraph">
<p>From this you would get a response like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>oauth_token=DJZmQkJ65F3M0HD4Lws5&amp;oauth_token_secret=WbwMzlDhW3HpkHxLh7wrtkXqPZkFS8n6HHXrZXLj4WK0vKljjJqHtdx9hWmCLXJLZ0CQSc5kD8jWnsdn&amp;lp.context=None</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_g_encrypt_your_tokens_before_use"><a class="anchor" href="#_g_encrypt_your_tokens_before_use"></a>G. Encrypt your tokens before use</h3>
<div class="paragraph">
<p>You should now encrypt your tokens before they are used. This makes the
interaction more secure.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change directory to your local code base for git.</p>
</li>
<li>
<p>Issue command:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>travis encrypt {your oauth_token from step F.&gt; --org</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>This may look like:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>travis encrypt DJZmQkJ65F3M0HD4Lws5 --org</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You will receive a response like:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>Please add the following to your .travis.yml file:

  secure: "O+F3qadTm1EojsoGlopwLPirEJ8TkshlyZGOUdOa62YJsI7SrE3ugryeU2wuYHRBxE0dhXDCxHkUf+E45yq4PL8IIHx29eoygsZeVwHCgyT2nN/Pk/O/EOJXeCRo5WgrliyDnHCl4Dmz7vyRiP6svWuzz1xM6ATpKXSUlb02tdzcoydD0bzeUYwUnK2VRc7yv4Afxgr0yXx+7fdscV+ALCZ2JOvroxXWGRJawo96KWEE0On72/wiYZXeMuC7QtxFBQopSRNrmzGMTHv9F8c6cGT/Utcrp86xw42JO0pxOXCdd5i+60hzlA6QWswrNIuNBVnYWydGfJoX56bcalRZ1MEE+NyU/zHYBi8uehh8NIfUAYxdY7w7VW6FtyEdayNGWBm1FRGyyOquYfFQMGMHCBrnt30IKk2glSFWLxUBUTec4c3GGOXO8W0Zq/IhGE2ej77AVzCXgB1zOiruUSJdpkpQH73xC174SQBmiW54k76V4oRy2YyIXeibC04zKVhSpfJ0ORObvbZbz4LAgx0ML4emxFUFsIkzCNK872rEPDiUJjcL6So3bNKTrV0RC44uXN+JzFXrAeHwCZVATXANg4Ah4N94YX4W5sk0iNArhN6/p50kZbffxvZnYlPIh728BvtCFkGi5IELEeFt0Q/wE1BUr6k7ozxhGJtSTohaDb0="

Pro Tip: You can add it automatically by running with --add.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>PS. Don&#8217;t do as suggested with the --add as it may destroy your
indentation in your .travis.yml file. It is far better to select the
line starting with "secure:" and copy paste it into the requisite
position in the .travis.yml file, in this case under "oauth_token"</p>
</li>
<li>
<p>Issue command:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>travis encrypt {your oauth_security_token from step F.&gt; --org</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>This may look like:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>travis encrypt WbwMzlDhW3HpkHxLh7wrtkXqPZkFS8n6HHXrZXLj4WK0vKljjJqHtdx9hWmCLXJLZ0CQSc5kD8jWnsdn --org</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You will receive a response like:</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>Please add the following to your .travis.yml file:

  secure: "zfcZagTCDKN2PrwAW4jHDMFJ40EhDwscLYguivOj+MlrI9A/Cs1v6IDjHa3Rm/v3elZuZMkZ10rZT8LUIzKaJS8MsMMU1jFnscAsqW8422S2chJlVN908T/rd0QinHotJdk1E7NbSLgHQF5J0eQ31I50kq4xWNhZ0Qe9G9FVEKi+f8HG9M3idJn0OiTJeaMqlgi6hj6X6ajgv9kaKe5qDGAWn8hB7nhav8epNCgw6zqgygKg3cTm6WF/KMLqYc6BrHruU+e3y0An9fBMD8TI0mRgHWexwkvtBOkMjBZAbO6n3hJL+cXEiUI7d+jdY9HIrWX4OjWTBXKE3jvF3SaWkqZGLj8/rRWq1TPkC8GwnDBLfiukmW2x+a982L0pxzDN5vs1XlzGMys5GzIc0TGaHSKd/BAMRXAQavcmTp9Zm51XsXismdD+CHCNm7BV7f8RaT0gWRwO+JLgT1wCsRIWoYsIVo67K2NYxgh+K3K36/8n/RjZ0y0id/+zsPZhORKsmRThFqxO9kTO0Zyi0yn6aqGks2xOGAq98BYdKiRxRlQquKk+daXhvsDCGVlCnC+8ogjvVDXSkt9bXNDW6qEcpdp4Y7v2in+KOGR1DBGXx75rB13h39ZLaeYKmnBXMncsRVYHk3MkF8mYSnu2DX/t50um/TFYwLrOb485I5tKcf4="

Pro Tip: You can add it automatically by running with --add.</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>PS. Don&#8217;t do as suggested with the --add as it may destroy your
indentation in your .travis.yml file. It is far better to select the
line starting with "secure:" and copy paste it into the requisite
position in the .travis.yml file, in this case "oauth_token_secret"</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_h_start_building_the_travis_project"><a class="anchor" href="#_h_start_building_the_travis_project"></a>H. Start building the .travis project</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You will need to turn the project "on" after signing into your travis
account. Click on the icon in the top right with the down chevron and
select 'Settings', the page will display your respitories under the
'Repositories' tab. Make sure the ones you want to use have the slider
button to the right with a tick in the button. If it is to the left and
shows a cross it is not active.</p>
</li>
<li>
<p>Then when you commit .travis.yml file, the travis build will start. It
is good to check that both of its build processes do pass faultlessly
before the next step.</p>
</li>
<li>
<p>It takes awhile for each commit (Linux and Mac) to build correctly, be
patient when it is running.</p>
</li>
<li>
<p>Make sure it built successfully. The project will not be saved because
travis does not provide that type of storage space.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_i_troubleshooting"><a class="anchor" href="#_i_troubleshooting"></a>I. Troubleshooting</h3>
<div class="paragraph">
<p>When the Travis build does not work the error messages can be obscure
and not really help too much. A typical message may be:</p>
</div>
<div class="paragraph">
<p>Skipping a deployment with the provider because this branch is not
permitted:</p>
</div>
<div class="paragraph">
<p>This is not very helpful as it just says something went wrong not what.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check your whole .travis.yml file. Look at it carefully and compare it
to the example given.</p>
</li>
<li>
<p>Make sure you have the security token enclosed in double quotes, i.e.
"security/token"</p>
</li>
<li>
<p>Make sure the build process has actually worked for the file types you
are trying to transfer to github</p>
</li>
<li>
<p>If you have extra values in your yml file make sure you really know
what they do. If you have issues, take all the extranous values out and
see if it works then.</p>
</li>
<li>
<p>If necessary find a very small project and play with that as it will
compile much quicker.</p>
</li>
<li>
<p>Make all changes in a branch of the main repository as you will have
to do multiple commits to get it working. Once it is working you can
make the changes to your main branch(es) and clean up the 'test' branch</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>:</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.
     Sources: https://gitlab.com/leamas/antora-ui-default
  </p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
